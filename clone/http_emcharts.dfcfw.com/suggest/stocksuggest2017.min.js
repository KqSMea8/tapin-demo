/**
* 2017版StockSuggest
* publish time: 2018-9-25 18:48:34
*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.suggest2017=e():t.suggest2017=e()}(this,function(){return function(t){function e(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e){var n={get:function(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));try{if(null!=e)return decodeURIComponent(e[2])}catch(n){}return null},set:function(t,e,n,s){var o=[t+"="+encodeURIComponent(e)];if(n){var a=new Date;a.setDate(a.getDate()+n),o.push("expires="+a.toGMTString())}o.push("path=/"),s&&o.push("domain="+s),document.cookie=o.join(";")},del:function(t,e){var n=new Date((new Date).getTime()-1);document.cookie=e?t+"=;path=/;domain="+e+";expires="+n.toGMTString():t+"=;path=/;expires="+n.toGMTString()}};t.exports=n},function(t,e){t.exports={get:function(t,e){return e==undefined&&(e="dev"),this[e][t]},dev:{styleurl:"http://auth.eastmoney.com:8080/css/stocksuggest2017.css",apiurl:"http://api.so.zptest.emapd.com/api/"},test:{styleurl:"//61.129.129.20/suggest/test/stocksuggest2017.css",apiurl:"http://api.so.zptest.emapd.com/api/"},prod:{styleurl:"//emcharts.dfcfw.com/suggest/stocksuggest2017.css",apiurl:"//searchapi.eastmoney.com/api/"}}},function(t,e){function n(t){var e=s.Deferred();return t(e.resolve,e.reject),e.promise()}var s=jQuery;n.all=function(t){return new n(function(e,n){s.when.apply(this,t).then(function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n][0]);e(t)}).fail(function(t){n(t)})})},n.reject=function(t){return new n(function(e,n){n(t)})},n.resolve=function(t){return new n(function(e,n){e(t)})},t.exports=n},function(t,e,n){function s(t){var e={inputid:null,onSubmit:"search",onConfirmStock:"quote",moveinput:"Code",zindex:1e3,position:{left:null,top:null},offset:{left:0,top:0},newtipsoffset:{left:0,top:0},placeholder:"输入股票代码、名称、简拼或关键字",stockcount:5,gubacount:4,width:364,showblank:!0,showstocklink:!0,modules:["stock","guba","user","group","info","searchall"],shownewtips:!1,filter:{markettype:"",mktnum:"",jys:"",classify:"",securitytype:""},hotStockLink:null,quoteLink:null,dataLink:null,alwaysshowresult:!1,gubatable:!1};if(this.options=a.extend(e,t),this.options.alwaysshowresult&&(this.options.showblank=!0),this.input=a("#"+this.options.inputid),this.input.length<=0)return!1;this.form=this.input.parents("form"),this.form.css({position:"relative","_zoom:":"1"}),this.stock_data=null,this.key="",this.sghtml=new r(this),this.isposition=!1,this.init(),this.bind()}function o(t,e,n,s){n.on("focus",function(){u("input","focus","Web_so_srk")}),s.on("submit",function(){u("form","submit","Web_so_ss",t.key)}),e.on("click","a",function(){var e=a(this).data("stype"),n=decodeURIComponent(a(this).data("skey"));e&&u("a","click","Web_so_"+e,t.key,n)})}n(4);var a=jQuery,i=n(10),r=n(11),l=n(1),c=n(29),u=n(30),d=n(31);i(l.get("styleurl","prod"));var h=null;s.prototype.init=function(){var t=this;this.input.prop("autocomplete","off").addClass("noieclear"),""!=this.options.placeholder&&("placeholder"in document.createElement("input")?(this.input.prop("placeholder",this.options.placeholder),a.trim(this.input.val())!=this.options.placeholder&&(this.key=a.trim(this.input.val()))):(""!=a.trim(this.input.val())?this.key=a.trim(this.input.val()):this.input.val(this.options.placeholder).addClass("sugphder"),this.input.on("focus",function(){t.input.val()==t.options.placeholder&&t.input.val("").removeClass("sugphder")}),this.input.on("blur",function(){""==t.input.val()&&t.input.val(t.options.placeholder).addClass("sugphder")}))),this.widths={};var e=Math.floor(this.options.width-364),n=Math.floor((this.options.width-364)/2);this.widths.text_left_fix=Math.floor((this.options.width-364)/6),this.widths.text_left_fix_2=Math.floor((this.options.width-364)/12),this.widths.sg2017lp_li=158+n,this.widths.sg2017ll=182+n,this.widths.sg2land=270+e,this.widths.sg2landl2=195+e,this.div==undefined&&(this.div=this.sghtml.init(this.options.width),this.divc=a(".suggest2017c",this.div),d.isIpad()&&(this.closediv=a('<div class="suggest2017_close"><img src="//emcharts.dfcfw.com/imgcdn/c9e50c9888.png"></div>'),this.div.append(this.closediv),this.closediv.click(function(){t.div.hide()})),this.div.css({zIndex:this.options.zindex}),this.rePosition(),this.form.append(this.div)),this.options.shownewtips&&this.sghtml.showHotNew(h,function(t){h=t})},s.prototype.rePosition=function(){var t=this.input.position().left,e=this.input.position().top+this.input.outerHeight()+1;this.options.position.left&&(t=this.options.position.left),this.options.position.top&&(e=this.options.position.top),this.options.offset.left&&(t+=this.options.offset.left),this.options.offset.top&&(e+=this.options.offset.top),this.div.css({left:t,top:e})},s.prototype.bind=function(){var t=this,e=null,n="";this.input.on("keyup",function(s){return 38==s.keyCode?(t.movedown(-1),!1):40==s.keyCode?(t.movedown(1),!1):(t.key=a.trim(t.input.val()),void(t.key!=n&&(clearTimeout(e),e=setTimeout(function(){t.search()},300),n=t.key)))}),this.input.on("keydown",function(t){if(13==t.keyCode){var e=a(".xgstock .sg2017table tr.suggest2017tf",this.div);if(e.length>0)return e.click(),!1}}),this.input.on("focus",function(){t.showBlankInit(),t.options.shownewtips&&t.options.showblank&&t.sghtml.showHotNewIconed(t)}),this.options.alwaysshowresult&&t.showBlankInit(),this.form.on("submit",function(){t.input.blur();e="";if("search"==t.options.onSubmit)return e="http://so.eastmoney.com/web/s?keyword="+encodeURIComponent(t.key),window.open(e),t.hide(),!1;if("quote"==t.options.onSubmit){var e="";return null!=t.stock_data?(e="http://so.eastmoney.com/link?input="+t.stock_data.Code+"&returnurl="+encodeURIComponent("http://quote.eastmoney.com/web/r/"+t.stock_data.ID)+"&marketType="+t.stock_data.MarketType,"6"==t.stock_data.MarketType&&(e="http://so.eastmoney.com/link?input="+t.stock_data.Code+"&returnurl="+encodeURIComponent("http://fund.eastmoney.com/"+t.stock_data.Code+".html")+"&marketType="+t.stock_data.MarketType)):e="http://so.eastmoney.com/web/s?keyword="+encodeURIComponent(t.key),window.open(e),t.hide(),!1}if("default"==t.options.onSubmit)t.hide();else if("function"==typeof t.options.onSubmit)return t.hide(),t.options.onSubmit({key:t.key,stock:t.stock_data})}),0==this.options.alwaysshowresult&&(d.isIpad()?a(document).on("touchend",function(e){var n=a(e.target);n.is(t.input)||t.div.has(n).length>0||(t.div.hide(),t.input.blur())}):a(document).on("click",function(e){var n=a(e.target);n.is(t.input)||t.div.has(n).length>0||t.div.hide()})),a(window).resize(function(){t.isposition&&t.rePosition()}),this.div.on("click","a",function(){a(this).data("searchhistory")&&c.addHistory(a(this).data("searchhistory"))}),this.div.on("click",".clearhsr",function(){return c.clearHistory(),a(".sg2017hsr",t.div).remove(),!1}),this.div.on("click",".hotsearchchange",function(){return u("a","click","Web_rmss_hyh1"),t.sghtml.hotSearchChange(a(".hotsearchdiv",this.div)),!1}),this.div.on("click",".hotstockchange",function(){return u("a","click","Web_rmgg_hyh2"),t.sghtml.hotStockChange(a(".hotstockdiv",this.div)),!1}),o(this,this.div,this.input,this.form)},s.prototype.movedown=function(t){var e=a(".xgstock .sg2017table tr",this.div);if(e.length<1)return!1;var n=e.filter(".suggest2017tf").index();e.removeClass("suggest2017tf"),(n+=t)<0?n=e.length-1:n>=e.length&&(n=0);var s=e.eq(n);s.addClass("suggest2017tf"),this.stock_data=s.data("stockdata"),this.input.val(this.stock_data[this.options.moveinput])},s.prototype.search=function(){if(""==this.key)return this.options.showblank?this.showBlankInit():this.hide(),!1;this.showResult(this.key)},s.prototype.showBlankInit=function(){return""!=this.key?(this.showResult(this.key),!1):(this.options.showblank&&this.sghtml.blankInit(),!1)},s.prototype.showResult=function(){var t=this;this.sghtml.newSearch().then(function(){var e=a(".xgstock .sg2017table tr",this.div);e.length>0?t.stock_data=e.eq(0).data("stockdata"):t.stock_data=null,e.on("click",function(){if(t.stock_data=a(this).data("stockdata"),u("tr","click","Web_so_zq",t.key,t.stock_data.Name),"quote"==t.options.onConfirmStock)"6"==t.stock_data.MarketType?window.open("http://so.eastmoney.com/link?input="+t.stock_data.Code+"&returnurl="+encodeURIComponent("http://fund.eastmoney.com/"+t.stock_data.Code+".html")+"&marketType="+t.stock_data.MarketType):window.open("http://so.eastmoney.com/link?input="+t.stock_data.Code+"&returnurl="+encodeURIComponent("http://quote.eastmoney.com/web/r/"+t.stock_data.ID)+"&marketType="+t.stock_data.MarketType);else if("submit"==t.options.onConfirmStock)t.form.submit();else if("function"==typeof t.options.onConfirmStock)return t.hide(),t.options.onConfirmStock({key:t.key,stock:t.stock_data});t.hide()}),e.on("click","a",function(){var e=a(this).data("stype"),n=decodeURIComponent(a(this).data("skey"));return e&&u("a","click","Web_so_"+e,t.key,n),window.open(a(this).attr("href")),t.hide(),!1}),a(".modules_guba .sg2017table tr",this.div).on("click",function(){var t=a(this).data("url");window.open(t)})})},s.prototype.remove=function(){this.div.remove()},s.prototype.show=function(){this.div.show()},s.prototype.hide=function(){this.div.hide()},t.exports=s},function(t,e,n){n(5),n(6),n(7),n(8),n(9)},function(t,e){"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t})},function(t,e){!function(t){"use strict";t.console||(t.console={});for(var e,n,s=t.console,o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=o.pop();)s[e]||(s[e]={});for(;n=a.pop();)s[n]||(s[n]=function(){})}("undefined"==typeof window?this:window)},function(module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Object.prototype.hasOwnProperty,n=Array.isArray||function(e){return"[object Array]"===t.call(e)},s={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},o=function(t){return s[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},a=/[\\"\u0000-\u001F\u2028\u2029]/g;return function i(s){if(null==s)return"null";if("number"==typeof s)return isFinite(s)?s.toString():"null";if("boolean"==typeof s)return s.toString();if("object"==typeof s){if("function"==typeof s.toJSON)return i(s.toJSON());if(n(s)){for(var r="[",l=0;l<s.length;l++)r+=(l?", ":"")+i(s[l]);return r+"]"}if("[object Object]"===t.call(s)){var c=[];for(var u in s)e.call(s,u)&&c.push(i(u)+": "+i(s[u]));return"{"+c.join(", ")+"}"}}return'"'+s.toString().replace(a,o)+'"'}}()})},function(t,e){Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,s;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),s=0;s<a;){var i;s in o&&(i=o[s],t.call(n,i,s,o)),s++}}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,s,o;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),i=a.length>>>0;if("[object Function]"!=Object.prototype.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),s=new Array(i),o=0;o<i;){var r,l;o in a&&(r=a[o],l=t.call(n,r,o,a),s[o]=l),o++}return s}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,s=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in e&&t.call(s,e[o],o,e))return!0;return!1})},function(module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},s=function(t){return n[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},o=/[\\"\u0000-\u001F\u2028\u2029]/g;return function a(n){if(null==n)return"null";if("number"==typeof n)return isFinite(n)?n.toString():"null";if("boolean"==typeof n)return n.toString();if("object"==typeof n){if("function"==typeof n.toJSON)return a(n.toJSON());if(e(n)){for(var i="[",r=0;r<n.length;r++)i+=(r?", ":"")+a(n[r]);return i+"]"}if("[object Object]"===t.call(n)){var l=[];for(var c in n)n.hasOwnProperty(c)&&l.push(a(c)+": "+a(n[c]));return"{"+l.join(", ")+"}"}}return'"'+n.toString().replace(o,s)+'"'}}()})},function(t,e){t.exports=function(t){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),e.appendChild(n)}},function(t,e,n){function s(t){this.thissg=t}var o=n(12),a=(n(13),n(14)),i=n(22),r=n(23),l=n(24),c=n(25),u=n(26),d=n(27),h=n(28),p=n(2),g=jQuery;htmlobj={hotSearchChange:function(t){var e=t.data("thispage");e=e==undefined?1:parseInt(e),o.hotsearch(function(n){var s=Math.ceil(n.Currency.length/10);++e>s&&(e=1),n.hotSearchList=n.Currency.slice(10*(e-1),10*(e-1)+10),t.html(d.template(c)(n)),t.data("thispage",e)},function(t){})},hotStockChange:function(t){var e=t.data("thispage");e=e==undefined?1:parseInt(e),o.hotsearch(function(n){var s=Math.ceil(n.Stock.length/10);++e>s&&(e=1),n.hotStockList=n.Stock.slice(10*(e-1),10*(e-1)+10),t.html(d.template(u)(n)),t.data("thispage",e)},function(t){})},showHotNew:function(t,e,n){var s=this;null==e?o.getNewCount().then(function(e){s.showHotNewIcon(t,e),n&&n(e)}).fail(function(t){}):s.showHotNewIcon(t,e)},showHotNewIcon:function(t,e){var n=g('<div class="suggest2017hotnewt">'+e+"</div>");t.newhothtml=n,t.form.append(n);var s=t.input.position().left+t.input.width()-12,o=t.input.position().top+6;n.css({left:s+t.options.newtipsoffset.left,top:o+t.options.newtipsoffset.top})},showHotNewIconed:function(t){"undefined"!=typeof t.newhothtml&&t.newhothtml.addClass("suggest2017hotnewted")},xgsearch:function(t,e,n,s,o,a,i,r){var l=this,c=0,u=0,h=d.template(xgsearch_init_template)({key:t});o.html(h).show(),this.stock(t,n,s,o,a,function(t){t||u++,c++,l.checksearchballFuc(u,c,o),i&&i()}),this.searchinfo(t,n,o,a,function(t){t||u++,c++,l.checksearchballFuc(u,c,o),r&&r()})},newSearch:function(t,e,n){var s=this,o=t.modules.map(function(t){return'<div class="modules_'+t+'"></div>'});o.push('<div class="sg2017loading"><div class="sg2017loadingimg"></div></div>'),t.containerc.html(o.join("")),t.container.show(),g.when.apply(g,t.modules.map(function(e){return s.searchModule({key:t.key,module_name:e,filter:t.filter,stockcount:t.stockcount,gubacount:t.gubacount,container:t.container,containerc:t.containerc,widths:t.widths})})).done(function(){g(".sg2017loading",t.container).remove();try{s.moduleFillHtml({container:t.container,containerc:t.containerc,widths:t.widths,modules:t.modules,key:t.key,showstocklink:t.showstocklink,dataLink:t.dataLink,quoteLink:t.quoteLink},arguments)}catch(o){}g(".sg2017bb:last",t.container).addClass("nobb");var n=g.trim(t.containerc.text());""!=n&&"查看全部搜索结果"!=n||(t.containerc.prepend('<div class="sg2017nof"><div class="sg2017nofi"><span class="sggicon sggicon_face"></span><br>未能搜索到符合条件的结果</div></div>'),g(".sg2017nof",t.container).show()),e()})},searchModule:function(t,e,n){if("searchall"==e)return p.resolve({key:t});var s=[];switch(e){case"stock":s=[14];break;case"guba":s=[8];break;case"user":s=[2,7];break;case"group":s=[3];break;case"info":s=[4,5,6,9,10,11,12,20]}var a=1;return"stock"==e&&(a=n.stockcount),"guba"==e&&(a=n.gubacount),o.getdata2({key:t,types:s,count:a,filter:n.filter})},searchAndShowModule:function(t,e){return this.searchModule(e).then(function(n){var s=n;"searchall"==t&&(s={}),s.key=e.key,s.text=h,s.widths=e.widths,s.showstocklink=e.showstocklink,s.quoteLink=e.quoteLink,s.dataLink=e.dataLink,"guba"==t&&e.gubatable&&(t="guba_table");var o=d.template(a[t])(s);g(".modules_"+t,e.container).html(o)})},moduleFillHtml:function(t,e){t.modules.forEach(function(n,s){var o=e[s];"searchall"==n&&(o={}),o.key=t.key,o.text=h,o.widths=t.widths,o.showstocklink=t.showstocklink,o.quoteLink=t.quoteLink,o.dataLink=t.dataLink;var i=d.template(a[n])(o);g(".modules_"+n,t.container).html(i)})},checksearchballFuc:function(t,e,n){2==e&&(2==t&&g(".sg2017nof",n).show(),g(".sg2017loading",n).hide())},stock:function(t,e,n,s,a,i){o.stockdata(t,e,n,function(e){(e=e.QuotationCodeTable).key=t,e.hasdata=null!=e.Data&&e.Data.length>0,e.text=h,e.widths=a;var n=d.template(modules_stock_template)(e);g(".xgstock",s).html(n),i&&i(e.hasdata)},function(t){})},searchinfo:function(t,e,n,s,a){o.searchinfo(t,e,function(e){e.key=t,e.text=h,e.hasguba=null!=e.GubaCodeTable.Data&&e.GubaCodeTable.Data.length>0,e.hasuser=null!=e.FortuneAccount.Data&&e.FortuneAccount.Data.length>0||null!=e.Passport.Data&&e.Passport.Data.length>0,e.hasxg=e.Notice.TotalCount>0||e.ResearchReport.TotalCount>0||e.CMSArticle.TotalCount>0||e.Blog.TotalCount>0||e.GubaTopic.TotalCount>0||e.FortuneArticle.TotalCount>0||e.GubaArticle.TotalCount>0||e.WenDongMi.TotalCount>0,e.widths=s;var o=d.template(i)(e);g(".xgsearch",n).html(o),a&&a(e.hasguba||e.hasuser||e.hasxg)},function(t){})}},s.prototype.init=function(t){return g(d.template(r)({width:t}))},s.prototype.blankInit=function(){var t=this;t.thissg.divc.html('<div class="sg2017loading"><div class="sg2017loadingimg"></div></div>'),o.hotsearch(function(e){e.search_history=o.getSearchHistory(10),e.widths=t.thissg.widths,e.text=h,e.hotStockLink=t.thissg.options.hotStockLink,e.hotSearchList=e.Currency.slice(0,10),e.hotStockList=e.Stock.slice(0,10);var n=g(d.template(l)(e));g(".hotsearchdiv",n).html(d.template(c)(e)),g(".hotstockdiv",n).html(d.template(u)(e)),t.thissg.divc.html(n),t.thissg.div.show()},function(t){})},s.prototype.newSearch=function(){var t=this,e=this.thissg.options.modules.map(function(t){return'<div class="modules_'+t+'"></div>'});return e.push('<div class="sg2017loading"><div class="sg2017loadingimg"></div></div>'),this.thissg.divc.html(e.join("")),this.thissg.div.show(),g.when.apply(g,this.thissg.options.modules.map(function(e){return t.searchAndShowModule(e)})).done(function(){g(".sg2017loading",t.thissg.div).remove(),g(".sg2017bb:last",t.thissg.div).addClass("nobb");var e=g.trim(t.thissg.divc.text());""!=e&&"查看全部搜索结果"!=e||(t.thissg.divc.prepend('<div class="sg2017nof"><div class="sg2017nofi"><span class="sggicon sggicon_face"></span><br>未能搜索到符合条件的结果</div></div>'),g(".modules_searchall",t.thissg.divc).remove(),g(".sg2017nof",t.thissg.div).show())})},s.prototype.searchAndShowModule=function(t){var e=this,n=this.thissg.options;return htmlobj.searchModule(this.thissg.key,t,n).then(function(s){if(s.key!=e.thissg.key)return!1;var o=s;"searchall"==t&&(o={}),o.key=e.thissg.key,o.text=h,o.widths=e.thissg.widths,o.showstocklink=n.showstocklink,o.quoteLink=n.quoteLink,o.dataLink=n.dataLink;var i=t;"guba"==t&&n.gubatable&&(i="guba_table");var r=d.template(a[i])(o);g(".modules_"+t,e.thissg.div).html(r)})},s.prototype.showHotNew=function(t,e){var n=this;return new p(function(e,s){null==t?o.getNewCount().then(function(t){n.showHotNewIcon(t),e(t)}).fail(function(t){s(t)}):n.showHotNewIcon(t)})},s.prototype.showHotNewIcon=function(t){var e=g('<div class="suggest2017hotnewt" style="position: absolute;">'+t+"</div>");this.thissg.newhothtml=e,this.thissg.form.prepend(e);var n=this.thissg.input.position().left+this.thissg.input.width()-12,s=this.thissg.input.position().top+6;e.css({left:n+this.thissg.options.newtipsoffset.left,top:s+this.thissg.options.newtipsoffset.top})},s.prototype.showHotNewIconed=function(){"undefined"!=typeof this.thissg.newhothtml&&this.thissg.newhothtml.addClass("suggest2017hotnewted")},s.prototype.hotSearchChange=function(t){var e=t.data("thispage");e=e==undefined?1:parseInt(e),o.hotsearch(function(n){var s=Math.ceil(n.Currency.length/10);++e>s&&(e=1),n.hotSearchList=n.Currency.slice(10*(e-1),10*(e-1)+10),t.html(d.template(c)(n)),t.data("thispage",e)},function(t){})},s.prototype.hotStockChange=function(t){var e=t.data("thispage");e=e==undefined?1:parseInt(e),o.hotsearch(function(n){var s=Math.ceil(n.Stock.length/10);++e>s&&(e=1),n.hotStockList=n.Stock.slice(10*(e-1),10*(e-1)+10),t.html(d.template(u)(n)),t.data("thispage",e)},function(t){})},t.exports=s},function(t,e,n){var s=jQuery,o=n(0),a=n(1),i=n(2),r=a.get("apiurl","prod"),l={search:{}};t.exports={getdata:function(t,e,n,o,a,i){var c=escape(t+"||"+o.join(","));if(l.search[c]==undefined){var u={input:t,type:o.join(","),token:"D43BF722C8E33BDC906FB84D85E326E8",markettype:e.markettype,mktnum:e.mktnum,jys:e.jys,classify:e.classify,securitytype:e.securitytype};n>0&&(u.count=n),s.ajax({url:r+"suggest/get?cb=?",type:"GET",dataType:"jsonp",data:u,scriptCharset:"utf-8"}).done(function(t){l.search[c]=t,a(t)}).fail(function(t){i(t)})}else a(l.search[c])},getdata2:function(t){return new i(function(e,n){var o=escape(t.key+"||"+t.types.join(","));if(l.search[o]==undefined){var a={input:t.key,type:t.types.join(","),token:"D43BF722C8E33BDC906FB84D85E326E8",markettype:t.filter.markettype,mktnum:t.filter.mktnum,jys:t.filter.jys,classify:t.filter.classify,securitytype:t.filter.securitytype,count:t.count};s.ajax({url:r+"suggest/get?cb=?",type:"GET",dataType:"jsonp",data:a,scriptCharset:"utf-8"}).done(function(n){n.key=t.key,l.search[o]=n,e(n)}).fail(function(t){n(t)})}else e(l.search[o])})},getNewCount:function(){var t=s.Deferred(),e={token:"D43BF722C8E33BDC906FB84D85E326E8"};return s.ajax({url:r+"suggest/getbubble?cb=?",type:"GET",dataType:"jsonp",data:e,scriptCharset:"utf-8"}).done(function(e){0==e.Status&&e.Data?t.resolve(e.Data.BubbleCount):t.reject(new Error(e.Message))}).fail(function(e){t.reject(e)}),t.promise()},stockdata:function(t,e,n,s,o){this.getdata(t,e,n,[14],function(t){l.stockdata=t,s(t)},o)},searchinfo:function(t,e,n,s){return this.getdata(t,e,null,[2,3,4,5,6,7,8,9,10,11,12,20],n,s)},search:function(t,e,n){return this.getdata2(t,e,n)},hotsearch:function(t,e){l.hotsearch==undefined?s.ajax({url:r+"HotKeyword/GetBatch?cb=?",type:"GET",dataType:"jsonp",data:{count:20,stockCount:30,token:"D43BF722C8E33BDC906FB84D85E326E8"},scriptCharset:"utf-8"}).done(function(n){0==n.Status?(n.Data.Currency.forEach(function(t,e){t.index=e}),n.Data.Stock.forEach(function(t,e){t.index=e}),l.hotsearch=n.Data,t(n.Data)):e(new Error(n.Message))}).fail(function(t){e(t)}):t(l.hotsearch)},getSearchHistory:function(t){var e=o.get("emshistory");if(!e)return[];try{return(e=JSON.parse(e)).slice(0,t)}catch(n){return[]}}}},function(t,e){t.exports='{{? it.hasdata }}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关证券\r\n    <div class="sg2017tm"><a href="http://quote.eastmoney.com/search.html?stockcode={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.TotalCount) }}个结果>></a></div>\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <table class="sg2017table sg2017tableho sg2017stockt">\r\n      {{~it.Data:value:index}}\r\n      <tr data-stockdata=\'{{= JSON.stringify(value) }}\'>\r\n          <td>{{= value.SecurityTypeName }}</td>\r\n          <td>{{= it.text.highLight(value.Code, it.key) }}</td>\r\n          <td>{{= it.text.leftAndHighLight(value.Name, 12 + it.widths.text_left_fix_2, it.key) }}</td>\r\n          <td>{{= it.text.leftAndHighLight(value.PinYin.toUpperCase(), 8 + it.widths.text_left_fix_2, it.key) }}</td>\r\n          {{? it.showstocklink }}\r\n          <td class="tdl5">\r\n            {{? value.MarketType == "6"}}\r\n            <a href="http://so.eastmoney.com/link?input={{= value.Code }}&returnurl={{= encodeURIComponent(\'http://fund.eastmoney.com/\' + value.Code + \'.html\') }}&marketType={{= value.MarketType }}" target="_blank" class="bblink">行情</a>\r\n            {{??}}\r\n            <a href="http://so.eastmoney.com/link?input={{= value.Code }}&returnurl={{= encodeURIComponent(\'http://quote.eastmoney.com/web/r/\' + value.ID) }}&marketType={{= value.MarketType }}" target="_blank" class="bblink">行情</a>\r\n            {{?}}\r\n            {{? value.Classify.toLowerCase() == \'astock\' || value.Classify.toLowerCase() == \'bstock\' }}\r\n            <a href="http://so.eastmoney.com/link?input={{= value.Code }}&returnurl={{= encodeURIComponent(\'http://data.eastmoney.com/stockdata/\' + value.Code + \'.html\') }}&marketType=" target="_blank" class="rblink">数据</a>\r\n            {{??}}\r\n            <span class="nolink">数据</span>\r\n            {{?}}\r\n          </td>\r\n          {{?}}\r\n        </tr>\r\n      {{~}}\r\n    </table>\r\n  </div>\r\n</div>\r\n{{?}}'},function(t,e,n){var s=n(15),o=n(16),a=n(17),i=n(18),r=n(19),l=n(20),c=n(21);t.exports={stock:s,guba:o,user:i,group:r,info:l,searchall:c,guba_table:a}},function(t,e){t.exports='{{? it.QuotationCodeTable.Data != null && it.QuotationCodeTable.Data.length > 0}}\r\n<div class="sg2017b xgstock">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关证券\r\n    <div class="sg2017tm"><a data-stype="zqjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://quote.eastmoney.com/search.html?stockcode={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.QuotationCodeTable.TotalCount) }}个结果>></a></div>\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <table class="sg2017table sg2017tableho sg2017stockt">\r\n      {{~it.QuotationCodeTable.Data:value:index}}\r\n      <tr data-stockdata=\'{{! JSON.stringify(value) }}\'>\r\n          <td class="fcgray">{{= value.SecurityTypeName }}</td>\r\n          <td>{{= it.text.highLight(value.Code, it.key) }}</td>\r\n          <td>{{= it.text.leftAndHighLight(value.Name, 12 + it.widths.text_left_fix_2, it.key) }}</td>\r\n          <td>{{= it.text.leftAndHighLight(value.PinYin.toUpperCase(), 8 + it.widths.text_left_fix_2, it.key) }}</td>\r\n          {{? it.showstocklink }}\r\n          <td class="tdl5">\r\n            {{? value.MarketType == "6"}}\r\n            <a data-stype="hq" data-skey="{{= encodeURIComponent(value.Name) }}" href="{{? it.quoteLink == null }}http://so.eastmoney.com/link?input={{= value.Code }}&returnurl={{= encodeURIComponent(\'http://fund.eastmoney.com/\' + value.Code + \'.html\') }}&marketType={{= value.MarketType }}{{??}}{{= it.quoteLink({Code: value.Code, Name: value.Name, MarketType: value.MarketType, Classify: value.Classify}) }}{{?}}" target="_blank" class="bblink">行情</a>\r\n            {{??}}\r\n            <a data-stype="hq" data-skey="{{= encodeURIComponent(value.Name) }}" href="{{? it.quoteLink == null }}http://so.eastmoney.com/link?input={{= value.Code }}&returnurl={{= encodeURIComponent(\'http://quote.eastmoney.com/web/r/\' + value.ID) }}&marketType={{= value.MarketType }}{{??}}{{= it.quoteLink({Code: value.Code, Name: value.Name, MarketType: value.MarketType, Classify: value.Classify}) }}{{?}}" target="_blank" class="bblink">行情</a>\r\n            {{?}}\r\n            {{? value.Classify.toLowerCase() == \'astock\' || value.Classify.toLowerCase() == \'bstock\' }}\r\n            <a data-stype="sj" data-skey="{{= encodeURIComponent(value.Name) }}" href="{{? it.dataLink == null }}http://so.eastmoney.com/link?input={{= value.Code }}&returnurl={{= encodeURIComponent(\'http://data.eastmoney.com/stockdata/\' + value.Code + \'.html\') }}&marketType={{??}}{{= it.dataLink({Code: value.Code, Name: value.Name, MarketType: value.MarketType, Classify: value.Classify}) }}{{?}}" target="_blank" class="rblink">数据</a>\r\n            {{??}}\r\n            <span class="nolink">数据</span>\r\n            {{?}}\r\n          </td>\r\n          {{?}}\r\n        </tr>\r\n      {{~}}\r\n    </table>\r\n  </div>\r\n</div>\r\n{{?}}\r\n'},function(t,e){t.exports='{{? it.GubaCodeTable.Data != null}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关股吧\r\n    <div class="sg2017tm"><a data-stype="gbjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/TieZi/s?KeyWord={{= encodeURIComponent(it.key) }}&swtype=2" target="_blank" class="blink">{{= it.text.formatNum( it.GubaCodeTable.TotalCount) }}个结果>></a></div>\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <div class="sg2017hp sg2017hpb">\r\n      {{~it.GubaCodeTable.Data:value:index}}\r\n        <a data-stype="gb" data-skey="{{= encodeURIComponent(value.ShortName + \'吧\') }}" href="{{= value.Url }}" data-searchhistory="{{= value.ShortName }}" target="_blank">{{= it.text.highLight(value.ShortName, it.key) }}吧</a>\r\n      {{~}}\r\n    </div>\r\n  </div>\r\n</div>\r\n{{?}}'},function(t,e){t.exports='{{? it.GubaCodeTable.Data != null}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关股吧\r\n    <div class="sg2017tm"><a data-stype="gbjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/TieZi/s?KeyWord={{= encodeURIComponent(it.key) }}&swtype=2" target="_blank" class="blink">{{= it.text.formatNum( it.GubaCodeTable.TotalCount) }}个结果>></a></div>\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <table class="sg2017table sg2017tableho">\r\n      {{~it.GubaCodeTable.Data:value:index}}\r\n      <tr data-url="{{= value.Url }}">\r\n        <td>{{= it.text.highLight(value.OuterCode, it.key) }}</td>\r\n        <td>{{= it.text.highLight(value.ShortName, it.key) }}吧</td>\r\n        <td>{{= it.text.highLight(value.HeadCharacter, it.key) }}</td>\r\n      </tr>\r\n      {{~}}\r\n    </table>\r\n  </div>\r\n</div>\r\n{{?}}'},function(t,e){t.exports='{{? it.FortuneAccount.Data != null || it.Passport.Data != null}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关用户\r\n  </div>\r\n  <div class="sg2017bb">\r\n    {{? it.FortuneAccount.Data != null }}\r\n    <div class="sg2017xgyz">\r\n      <a data-stype="cfh" data-skey="{{= encodeURIComponent(it.FortuneAccount.Data[0].NickName) }}" href="{{= it.FortuneAccount.Data[0].Url }}" class="bbrlink" data-searchhistory="{{= it.FortuneAccount.Data[0].NickName }}" target="_blank">\r\n        <div class="sg2land" style="width:{{= it.widths.sg2land }}px;">\r\n          <span class="sg2landl1 fcgray">财富号</span><span class="sg2landl2" style="width:{{= it.widths.sg2landl2 }}px;">{{= it.text.leftAndHighLight(it.FortuneAccount.Data[0].NickName, 22 + it.widths.text_left_fix, it.key) }}</span>\r\n        </div>\r\n      </a>\r\n      <div class="sg2017xgyzm"><a data-stype="cfhjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/CAccount/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.FortuneAccount.TotalCount) }}个结果>></a></div>\r\n    </div>\r\n    {{?}}\r\n    {{? it.Passport.Data != null }}\r\n    <div class="sg2017xgyz">\r\n      <a data-stype="by" data-skey="{{= encodeURIComponent(it.Passport.Data[0].ualias) }}" href="{{= it.Passport.Data[0].url }}" class="bbrlink" data-searchhistory="{{= it.Passport.Data[0].ualias }}" target="_blank">\r\n        <div class="sg2land" style="width:{{= it.widths.sg2land }}px;">\r\n          <span class="sg2landl1 fcgray">吧友</span><span class="sg2landl2" style="width:{{= it.widths.sg2landl2 }}px;">{{= it.text.leftAndHighLight(it.Passport.Data[0].ualias, 22 + it.widths.text_left_fix, it.key) }}</span>\r\n        </div>\r\n      </a>\r\n      <div class="sg2017xgyzm"><a data-stype="byjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/User/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.Passport.TotalCount) }}个结果>></a></div>\r\n    </div>\r\n    {{?}}\r\n  </div>\r\n</div>\r\n{{?}}'},function(t,e){t.exports='{{? it.Portfolio.Data != null}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关组合\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <div class="sg2017xgyz">\r\n      <a data-stype="zh" data-skey="{{= encodeURIComponent(it.Portfolio.Data[0].zuheName) }}" href="{{= it.Portfolio.Data[0].url }}" class="bbrlink" data-searchhistory="{{= it.Portfolio.Data[0].zuheName }}" target="_blank">\r\n        <div class="sg2land" style="width:{{= it.widths.sg2land }}px;">\r\n          <span class="sg2landl1 fcgray">组合</span><span class="sg2landl2" style="width:{{= it.widths.sg2landl2 }}px;">{{= it.text.leftAndHighLight(it.Portfolio.Data[0].zuheName, 22 + it.widths.text_left_fix, it.key) }}</span>\r\n        </div>\r\n      </a>\r\n      <div class="sg2017xgyzm"><a data-stype="zhjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/ZuHe/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.Portfolio.TotalCount) }}个结果>></a></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n{{?}}'},function(t,e){t.exports='{{? it.Notice.Status == 0 || it.ResearchReport.Status == 0 || it.CMSArticle.Status == 0 || it.Blog.Status == 0 || it.GubaTopic.Status == 0 || it.FortuneArticle.Status == 0 || it.GubaArticle.Status == 0 || it.WenDongMi.Status == 0 }}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关信息 <span class="sg2017tt">以下为“<span class="sg2017hl">{{= it.text.txtLeft(it.key,20)}}</span>”的搜索个数</span>\r\n  </div>\r\n  <div class="sg2017bb">\r\n      <div class="sg2017hpb">\r\n        {{? it.Notice.Status == 0 }}\r\n          <a data-stype="ggjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/Ann/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">公告 <span class="bspan">{{= it.text.formatNum(it.Notice.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.ResearchReport.Status == 0 }}\r\n          <a data-stype="ybjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/Yanbao/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">研报 <span class="bspan">{{= it.text.formatNum(it.ResearchReport.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.CMSArticle.Status == 0 }}\r\n          <a data-stype="zxjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/news/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">资讯 <span class="bspan">{{= it.text.formatNum(it.CMSArticle.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.Blog.Status == 0 }}\r\n          <a data-stype="bkjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/Blog/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">博客 <span class="bspan">{{= it.text.formatNum(it.Blog.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.GubaTopic.Status == 0 }}\r\n          <a data-stype="htjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/web/s?keyword={{= encodeURIComponent(it.key) }}" target="_blank">话题 <span class="bspan">{{= it.text.formatNum(it.GubaTopic.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.FortuneArticle.Status == 0 }}\r\n          <a data-stype="cfhwzjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/CArticle/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">财富号文章 <span class="bspan">{{= it.text.formatNum(it.FortuneArticle.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.GubaArticle.Status == 0 }}\r\n          <a data-stype="gbwzjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/TieZi/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">股吧 <span class="bspan">{{= it.text.formatNum(it.GubaArticle.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.WenDongMi.Status == 0 }}\r\n          <a data-stype="wdmjg" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/QA/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">问董秘 <span class="bspan">{{= it.text.formatNum(it.WenDongMi.TotalCount) }}</span></a>\r\n        {{?}}\r\n      </div>\r\n  </div>\r\n</div>\r\n{{?}}'},function(t,e){t.exports='<div class="sg2017va"><a data-stype="all" data-skey="{{= encodeURIComponent(it.key) }}" href="http://so.eastmoney.com/web/s?keyword={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">查看全部搜索结果</a></div>'},function(t,e){t.exports='{{? it.hasguba}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关股吧\r\n    <div class="sg2017tm"><a href="http://so.eastmoney.com/TieZi/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum( it.GubaCodeTable.TotalCount) }}个结果>></a></div>\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <div class="sg2017hp sg2017hpb">\r\n      {{~it.GubaCodeTable.Data:value:index}}\r\n        <a href="{{= value.Url }}" target="_blank">{{= it.text.highLight(value.ShortName, it.key) }}吧</a>\r\n      {{~}}\r\n    </div>\r\n  </div>\r\n</div>\r\n{{?}}\r\n\r\n{{? it.hasuser}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关用户\r\n  </div>\r\n  <div class="sg2017bb">\r\n    {{? it.FortuneAccount.Data != null }}\r\n    <div class="sg2017xgyz">\r\n      <a href="{{= it.FortuneAccount.Data[0].Url }}" class="bbrlink" target="_blank">\r\n        <div class="sg2land" style="width:{{= it.widths.sg2land }}px;">\r\n          <span class="sg2landl1 fcgray">财富号</span><span class="sg2landl2" style="width:{{= it.widths.sg2landl2 }}px;">{{= it.text.leftAndHighLight(it.FortuneAccount.Data[0].NickName, 22 + it.widths.text_left_fix, it.key) }}</span>\r\n        </div>\r\n      </a>\r\n      <div class="sg2017xgyzm"><a href="http://so.eastmoney.com/CAccount/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.FortuneAccount.TotalCount) }}个结果>></a></div>\r\n    </div>\r\n    {{?}}\r\n    {{? it.Passport.Data != null }}\r\n    <div class="sg2017xgyz">\r\n      <a href="{{= it.Passport.Data[0].url }}" class="bbrlink" target="_blank">\r\n        <div class="sg2land" style="width:{{= it.widths.sg2land }}px;">\r\n          <span class="sg2landl1 fcgray">吧友</span><span class="sg2landl2" style="width:{{= it.widths.sg2landl2 }}px;">{{= it.text.leftAndHighLight(it.Passport.Data[0].ualias, 22 + it.widths.text_left_fix, it.key) }}</span>\r\n        </div>\r\n      </a>\r\n      <div class="sg2017xgyzm"><a href="http://so.eastmoney.com/User/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.Passport.TotalCount) }}个结果>></a></div>\r\n    </div>\r\n    {{?}}\r\n  </div>\r\n</div>\r\n{{?}}\r\n\r\n{{? it.Portfolio.Data != null }}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关组合\r\n  </div>\r\n  <div class="sg2017bb">\r\n    <div class="sg2017xgyz">\r\n      <a href="{{= it.Portfolio.Data[0].url }}" class="bbrlink" target="_blank">\r\n        <div class="sg2land" style="width:{{= it.widths.sg2land }}px;">\r\n          <span class="sg2landl1 fcgray">组合</span><span class="sg2landl2" style="width:{{= it.widths.sg2landl2 }}px;">{{= it.text.leftAndHighLight(it.Portfolio.Data[0].zuheName, 22 + it.widths.text_left_fix, it.key) }}</span>\r\n        </div>\r\n      </a>\r\n      <div class="sg2017xgyzm"><a href="http://so.eastmoney.com/ZuHe/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank" class="blink">{{= it.text.formatNum(it.Portfolio.TotalCount) }}个结果>></a></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n{{?}}\r\n\r\n{{? it.hasxg}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_link"></span>相关信息 <span class="sg2017tt">以下为“<span class="sg2017hl">{{= it.text.txtLeft(it.key,20)}}</span>”的搜索个数</span>\r\n  </div>\r\n  <div class="sg2017bb nobb">\r\n      <div class="sg2017hpb">\r\n        {{? it.Notice.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/Ann/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">公告 <span class="bspan">{{= it.text.formatNum(it.Notice.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.ResearchReport.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/Yanbao/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">研报 <span class="bspan">{{= it.text.formatNum(it.ResearchReport.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.CMSArticle.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/news/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">资讯 <span class="bspan">{{= it.text.formatNum(it.CMSArticle.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.Blog.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/Blog/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">博客 <span class="bspan">{{= it.text.formatNum(it.Blog.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.GubaTopic.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/web/s?keyword={{= encodeURIComponent(it.key) }}" target="_blank">话题 <span class="bspan">{{= it.text.formatNum(it.GubaTopic.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.FortuneArticle.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/CArticle/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">财富号文章 <span class="bspan">{{= it.text.formatNum(it.FortuneArticle.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.GubaArticle.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/TieZi/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">股吧 <span class="bspan">{{= it.text.formatNum(it.GubaArticle.TotalCount) }}</span></a>\r\n        {{?}}\r\n        {{? it.WenDongMi.Status == 0 }}\r\n          <a href="http://so.eastmoney.com/QA/s?KeyWord={{= encodeURIComponent(it.key) }}" target="_blank">问董秘 <span class="bspan">{{= it.text.formatNum(it.WenDongMi.TotalCount) }}</span></a>\r\n        {{?}}\r\n      </div>\r\n  </div>\r\n</div> \r\n{{?}}'},function(t,e){t.exports='<div class="suggest2017" style="width:{{= it.width }}px;">\r\n  <div class="suggest2017c"></div>\r\n</div>\r\n'},function(t,e){t.exports='{{?it.search_history.length > 0}}\r\n<div class="sg2017b sg2017hsr">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_history"></span>历史搜索\r\n    <div class="sg2017tm2"><a href="javascript:;" class="clearhsr" target="_self">清空历史</a></div>\r\n  </div>\r\n  <div class="sg2017bb clearfix">\r\n    <ul class="sg2017lp clearfix">\r\n        {{~it.search_history:value:index}}\r\n        <li style="width:{{= it.widths.sg2017ll}}px;"><a data-stype="lsss" data-skey="{{= encodeURIComponent(value) }}" href="http://so.eastmoney.com/web/s?keyword={{= encodeURIComponent(value) }}" target="_blank">{{= it.text.txtLeft(value, 20 + it.widths.text_left_fix_2, true) }}</a>\r\n        </li>\r\n        {{~}}\r\n    </ul>          \r\n  </div>\r\n</div>\r\n{{?}}\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_hotsearch"></span>热门搜索\r\n    <div class="sg2017tm2"><a href="javascript:;" class="sgchange hotsearchchange" target="_self">换一换<span class="sggicon sggicon_change"></span></a></div>\r\n  </div>\r\n  <div class="sg2017bb clearfix hotsearchdiv"></div>\r\n</div>\r\n<div class="sg2017b">\r\n  <div class="sg2017t">\r\n    <span class="sggicon sggicon_hotstock"></span>热门个股\r\n    <div class="sg2017tm2"><a href="javascript:;" class="sgchange hotstockchange" target="_self">换一换<span class="sggicon sggicon_change"></span></a></div>\r\n  </div>\r\n  <div class="sg2017bb clearfix nobb hotstockdiv"></div>\r\n</div>'},function(t,e){t.exports='<ul class="sg2017l sg2017ll" style="width:{{= it.widths.sg2017ll}}px;">\r\n  {{~it.hotSearchList:value:index}}\r\n  <li><a data-stype="rmss" data-skey="{{= encodeURIComponent(value.KeyPhrase) }}" href="{{= value.JumpAddress }}" target="_blank"><span class="{{? value.index < 3 }}indexred{{?}}">{{= value.index + 1 }}.</span>{{= it.text.txtLeft(value.KeyPhrase, 20 + it.widths.text_left_fix_2, true) }}</a>\r\n  {{? value.HotKeywordStatus == "3"}}\r\n    <span class="sggicon sggicon_new"></span>\r\n  {{?}}\r\n  </li>\r\n  {{? index == 4 }}\r\n</ul>\r\n<ul class="sg2017l" style="width:{{= it.widths.sg2017ll}}px;">\r\n  {{?}}\r\n  {{~}}\r\n</ul>'},function(t,e){t.exports='<ul class="sg2017l sg2017ll" style="width:{{= it.widths.sg2017ll}}px;">\r\n  {{~it.hotStockList:value:index}}\r\n  <li><a data-stype="rsgg" data-skey="{{= encodeURIComponent(value.Name) }}" href="{{? it.hotStockLink == null }}{{= value.JumpAddress }}{{??}}{{= it.hotStockLink({Code: value.Code, Name: value.Name, MarketType: value.MarketType}) }}{{?}}" target="_blank"><span class="{{? value.index < 3 }}indexred{{?}}">{{= value.index + 1 }}.</span>{{= it.text.txtLeft(value.Name + \'[\' + value.Code + \']\', 20 + it.widths.text_left_fix_2, true) }}</a>\r\n  {{? value.HotKeywordStatus == "3"}}\r\n    <span class="sggicon sggicon_new"></span>\r\n  {{?}}\r\n  </li>\r\n  {{? index == 4 }}\r\n</ul>\r\n<ul class="sg2017l" style="width:{{= it.widths.sg2017ll}}px;">\r\n  {{?}}\r\n  {{~}}\r\n</ul>'},function(t,e,n){function s(t,e,n){return("string"==typeof e?e:e.toString()).replace(t.define||c,function(e,s,o,a){return 0===s.indexOf("def.")&&(s=s.substring(4)),s in n||(":"===o?(t.defineParams&&a.replace(t.defineParams,function(t,e,o){n[s]={arg:e,text:o}}),s in n||(n[s]=a)):new Function("def","def['"+s+"']="+a)(n)),""}).replace(t.use||c,function(e,o){t.useParams&&(o=o.replace(t.useParams,function(t,e,s,o){if(n[s]&&n[s].arg&&o){var a=(s+":"+o).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[a]=n[s].text.replace(new RegExp("(^|[^\\w$])"+n[s].arg+"([^\\w$])","g"),"$1"+o+"$2"),e+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+o)(n);return a?s(t,a,n):a})}function o(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var a,i,r={version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:undefined,compile:undefined,log:!0};r.encodeHTMLSource=function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,function(t){return e[t]||t}):""}},i=function(){return this||(0,eval)("this")}(),void 0!==t&&t.exports?t.exports=r:(a=function(){return r}.call(e,n,e,t))!==undefined&&(t.exports=a);var l={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},c=/$^/;r.template=function(t,e,n){var a,u,d=(e=e||r.templateSettings).append?l.append:l.split,h=0,p=e.use||e.define?s(e,t,n||{}):t;p=("var out='"+(e.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(e.interpolate||c,function(t,e){return d.start+o(e)+d.end}).replace(e.encode||c,function(t,e){return a=!0,d.startencode+o(e)+d.end}).replace(e.conditional||c,function(t,e,n){return e?n?"';}else if("+o(n)+"){out+='":"';}else{out+='":n?"';if("+o(n)+"){out+='":"';}out+='"}).replace(e.iterate||c,function(t,e,n,s){return e?(h+=1,u=s||"i"+h,e=o(e),"';var arr"+h+"="+e+";if(arr"+h+"){var "+n+","+u+"=-1,l"+h+"=arr"+h+".length-1;while("+u+"<l"+h+"){"+n+"=arr"+h+"["+u+"+=1];out+='"):"';} } out+='"}).replace(e.evaluate||c,function(t,e){return"';"+o(e)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),a&&(e.selfcontained||!i||i._encodeHTML||(i._encodeHTML=r.encodeHTMLSource(e.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.encodeHTMLSource.toString()+"("+(e.doNotSkipEncoded||"")+"));"+p);try{return new Function(e.varname,p)}catch(g){throw g}},r.compile=function(t,e){return r.template(t,null,e)},t.exports=r},function(t,e){t.exports={formatNum:function(t){if(t==undefined||""==t||isNaN(t))return"";var e="";if(t>=1e8)t/=1e8,e="亿";else{if(!(t>=1e4))return t;t/=1e4,e="万"}var n=t.toFixed(2);return parseInt(t)>=1e3&&(n=t.toFixed(1)),n.toString()+e},cut:function(t,e){return t.length>e?t.substring(0,e)+"...":t},txtLength:function(t){for(var e=0,n=0;n<t.length;n++)t.charCodeAt(n)>255?e+=2:e++;return e},txtLeft:function(t,e,n){if(null==t||""==t)return"";for(var s=0,o=0;o<t.length;o++)if(t.charCodeAt(o)>255?s+=2:s++,s>e+3)return n?'<span title="'+t+'">'+t.substring(0,o)+"...</span>":t.substring(0,o)+"...";return t},highLight:function(t,e){try{var n=new RegExp(e,"ig");t=t.replace(n,function(t){return'<span class="sg2017hl">'+t+"</span>"})}catch(s){}return t},leftAndHighLight:function(t,e,n){if(null==t||""==t)return"";for(var s=t,o=!1,a=0,i=0;i<t.length;i++)if(t.charCodeAt(i)>255?a+=2:a++,a>e+3){o=!0,s='<span title="'+t+'">'+this.highLight(t.substring(0,i),n)+"...</span>";break}return o?s:this.highLight(s,n)}}},function(t,e,n){var s=n(0);t.exports={_count:20,_histotyLength:40,_historyCookieName:"emshistory",getHistory:function(){var t=s.get(this._historyCookieName);return t?JSON.parse(t):[]},unHistory:function(t){for(var e=this.getHistory(),n=0;n<e.length;n++)t==e[n]&&(e.splice(n,1),n--);return e},addHistory:function(t){var e=this.unHistory(t);t&&this.txtLength(t)<=this._histotyLength&&(e.length>=this._count&&e.pop(),e.unshift(t),s.set(this._historyCookieName,JSON.stringify(e),90,"eastmoney.com"))},clearHistory:function(){s.del(this._historyCookieName,".eastmoney.com")},txtLength:function(t){for(var e=0,n=0;n<t.length;n++)t.charCodeAt(n)>255?e+=2:e++;return e}}},function(t,e){t.exports=function(t,e,n,s,o){var a="";o!=undefined?a="SearchWord:"+s+";EntryWord:"+o:s&&(a="SearchWord:"+s);try{a?window.sendTrackLog(t,e,n,encodeURIComponent(a)):window.sendTrackLog(t,e,n)}catch(i){}}},function(t,e){t.exports={isIE9:function(){return document.all&&document.addEventListener&&!window.atob},isIpad:function(){return navigator.userAgent.toLowerCase().indexOf("ipad")>=0},isMobile:function(){return["ipad1","android","ios"].some(function(t){return navigator.userAgent.toLowerCase().indexOf(t)>0})}}}])});